"use strict";void function(t){function o(t,o,e,r,a,n){if(n){var s=o?a-n:a+n;r.css("top",s+"px")}var i=r.detach();o?e.before(i):e.after(i)}function e(t,o,e){var r=o?t.next(e):t.prev(e);if(r.length){var a=t.position().top,n=r.position().top,s=r.outerHeight(),i=o?a>n:a<n+s/2;i&&t.trigger("moveItem",[o,t,r,n,s])}}function r(t){t.stopPropagation();var o=t.clientY,r=t.data.itemToSort,a=t.data.windowToScroll,n=a.scrollTop(),s=o-t.data.mouseStartTop,i=t.data.itemStartTop+s+t.data.scrollOffset,d=parseInt(r.css("top"),10),c=i-d>0,u=10;r.css("top",i+"px"),!c&&o<100?(a.scrollTop(n-u),t.data.scrollOffset-=u):c&&t.data.windowHeight-o<100&&(a.scrollTop(n+u),t.data.scrollOffset+=u),e(t.data.itemToSort,c,t.data.sortItemQuery)}function a(o){o.stopPropagation(),o.preventDefault();var e=t(o.currentTarget).closest('[data-sort="item"]'),a=o.data.wrapper,n=o.data.items,s=o.data.sortItemQuery;n.each(function(o,e){var r=t(e);r.css("top",r.position().top+"px"),r.css("left",r.position().left+"px"),r.css("right",a.outerWidth()-(r.outerWidth()+r.position().left)+"px")}),a.height(a.height()),a.addClass("sorting"),e.addClass("sorting"),t(document).on("mousemove",{itemToSort:e,itemStartTop:parseInt(e.css("top"),10),mouseStartTop:o.clientY,windowToScroll:o.data.windowToScroll,windowHeight:o.data.windowToScroll.outerHeight(),scrollOffset:0,sortItemQuery:s},r)}function n(o){o.stopPropagation();var e=t(".sorting");e.length&&(t('[data-function*="sort"]').height(""),t('[data-sort="item"]').css({top:"",left:"",right:""}),e.removeClass("sorting"),t(document).off("mousemove",r))}function s(o){o.stopPropagation();var e=t(o.currentTarget).closest(o.data.sortItemQuery),r=e.prev(o.data.sortItemQuery);r.length&&e.trigger("moveItem",[!1,e,r])}function i(o){o.stopPropagation();var e=t(o.currentTarget).closest(o.data.sortItemQuery),r=e.next(o.data.sortItemQuery);r.length&&e.trigger("moveItem",[!0,e,r])}function d(e,r){var d=t(e).attr("data-function","sort"),c=d.closest('[data-scroll="content-wrapper"]'),u=c.length?c:t(window),p=r||'[data-sort="item"]',l=d.find("> "+p).attr("data-sort","item");if(!(l.length<2)){var f=l.find('[data-sort="handle"]'),m=duck.findRelevantChildren(l,"[data-sort-buttons]"),g=m.find('[data-sort="up"]'),w=m.find('[data-sort="down"]');d.prop("sortInitaited")&&(d.find('a, button, input, select, textarea, [duck-type="wysiwyg"] .simpleMDE').off("mousedown",duck.stopProp),g.off("click",s),w.off("click",i),f.off("mousedown",a),l.off("mousedown",a),l.off("moveItem",o),t(document).off("mouseup",n)),d.find('a, button, input, select, textarea, [duck-type="wysiwyg"] .simpleMDE').on("mousedown",duck.stopProp),g.on("click",{sortItemQuery:p},s),w.on("click",{sortItemQuery:p},i),f.length?f.on("mousedown",{wrapper:d,items:l,windowToScroll:u,sortItemQuery:p},a):l.on("mousedown",{wrapper:d,items:l,windowToScroll:u,sortItemQuery:p},a),l.on("moveItem",o),t(document).on("mouseup",n),d.prop("sortInitaited",!0)}}t.fn.sortable=function(t){return this.each(function(o,e){d(e,t)})},t(function(){return t('[data-function*="sort"]').sortable()})}(jQuery.noConflict(),duck);
//# sourceMappingURL=sortable.min.js.map
