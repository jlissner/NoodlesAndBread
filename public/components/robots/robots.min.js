"use strict";void function(t,a){function r(t){var a=t.data.factoryName,r=a.val();s.get(null,function(t){for(var o=0,e=t.length;o<e;o++)if(!r||t[o].name.toLowerCase()===r.toLowerCase())return void a.trigger("validateFactoryName",[!1]);a.trigger("validateFactoryName",[!0])})}function o(a){a.stopPropagation(),a.preventDefault();var r=t(a.currentTarget),o=r.parent();o.hasClass("has-error")&&r.val()&&o.removeClass("has-error")}function e(a){a.stopPropagation(),a.preventDefault();var r=t(a.currentTarget),o=r.closest('[robot-factory="attribute"]'),e=o.find('[robot-factory="attribute-robot"]'),i=r.val();return"Robot"===i?void e.prop("disabled",!1):void e.prop("disabled",!0)}function i(a){a.stopPropagation(),a.preventDefault(),t(a.currentTarget).closest('[robot-factory="attribute"]').remove()}function n(t){t.stopPropagation(),t.preventDefault();var a=t.data.factoryAttributes,r=t.data.newFactoryAttribute;a.append(r.clone()),a.last().find('[robot-factory="attribute-name"]').focus()}function c(a){a.stopPropagation(),a.preventDefault();var r=a.data.factory,o=a.data.factoryAttributes,e=[],i=0;o.find('[robot-factory="attribute"]').each(function(a,o){var n=t(o),c=n.find('[robot-factory="attribute-name"]'),f=c.val(),u=n.find('[robot-factory="attribute-is-list"]').prop("checked"),s=n.find('[robot-factory="attribute-type"]').val(),d=n.find('[robot-factory="attribute-robot"]').val();if(!f||e.filter(function(t){return t.name===f}).length)return c.parent().addClass("has-error"),i++,void r.prop("builtFactory",!1).trigger("factoryBuilt");var b={name:f,type:u?[s]:s,id:d};e.push(b)}),r.prop("builtFactory",e).trigger("factoryBuilt")}function f(a){a.stopPropagation(),a.preventDefault();var r=a.data.factory,o=a.data.factoryName,e=a.data.saveFactory;e.prop("disabled",!0).trigger("buildFactory");var i=r.prop("builtFactory");if(i){var n={name:o.val(),schema:i};s.add(n,t.noop,t.noop)}e.prop("disabled",!1)}function u(a){var u=t(a),s=u.find('[robot-factory="name"]'),d=u.find('[robot-factory="attributes"]'),b=u.find('[robot-factory="attribute-add"]'),p=d.find('[robot-factory="attribute"]').clone(),l=u.find('[robot-factory="save"]');s.on("input",{factoryName:s},r),u.on("buildFactory",{factory:u,factoryAttributes:d},c),u.on("validateFactoryName",function(t,a){t.stopPropagation();var r=s.parent();r.removeClass("has-success has-error"),a?(r.addClass("has-success"),l.prop("disabled",!1)):(r.addClass("has-error"),l.prop("disabled",!0))}),d.on("input",'[robot-factory="attribute-name"]',o),d.on("input",'[robot-factory="attribute-type"]',e),d.on("click",'[robot-factory="attribute-delete"]',i),b.on("click",{factoryAttributes:d,newFactoryAttribute:p},n),l.on("click",{factory:u,factoryName:s,saveFactory:l},f)}var s=a("RobotFactories");t(function(){u("[robot-factory='factory']")})}(jQuery.noConflict(),duck);
//# sourceMappingURL=robots.min.js.map
